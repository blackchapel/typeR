swagger: '2.0'
info:
    title: xREventi APIs
    description: This is the API Documentation
    version: 1.0

    servers:
        -url: https://typer-api.onrender.com/api
        description: Deployed API Endpoint

schemes: [http, https]

paths:
    # Signup
    /api/auth/typer/signup:
        post:
            tags:
                - Authentication
            summary: Registration
            produces:
                - application/json
            consumes:
                - application/json
            parameters:
                - in: body
                  name: user
                  schema:
                      type: object
                      properties:
                          name:
                              type: string
                              default: ''
                          email:
                              type: string
                              default: ''
                          password:
                              type: string
                              default: ''
            responses:
                201:
                    description: user created
                400:
                    description: Unable to register
                500:
                    description: Server error

    # Create Event
    /api/event/:
        post:
            tags:
                - Event
            summary: Create Event
            produces:
                - application/json
            consumes:
                - multipart/form-data
            parameters:
                - in: formData
                  name: thumbnail
                  type: file

                - in: formData
                  name: event
                  schema:
                      type: object
                      properties:
                          name:
                              type: string
                              default: ''
                          description:
                              type: string
                              default: ''
                          date:
                              type: string
                              default: ''
                          isSelection:
                              type: boolean
                              default: false
                          isPayment:
                              type: boolean
                              default: false
                          amount:
                              type: string
                              default: ''
                          approval:
                              type: array
                              items:
                                  type: object
                                  properties:
                                      id:
                                          type: string
                                          default: ''
                                      name:
                                          type: string
                                          default: ''
            responses:
                200:
                    description: event created
                400:
                    description: Unable to create event
                500:
                    description: Server error

    # Get Event List
    /api/event/:
        get:
            tags:
                - Event
            summary: Get Event List
            produces:
                - application/json
            responses:
                200:
                    description: event created
                400:
                    description: Unable to create event
                500:
                    description: Server error

    # Get Event
    /api/event/:
        get:
            tags:
                - Event
            summary: Get Event
            produces:
                - application/json
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                200:
                    description: event created
                400:
                    description: Unable to create event
                404:
                    description: Event not found
                500:
                    description: Server error

    # Update Event
    /api/event/:
        get:
            tags:
                - Event
            summary: Update Event
            produces:
                - application/json
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string

                - in: body
                  name: event
                  schema:
                      type: object
                      properties:
                          name:
                              type: string
                              default: ''
                          description:
                              type: string
                              default: ''
                          date:
                              type: string
                              default: ''
                          isSelection:
                              type: string
                              default: ''
                          isPayment:
                              type: string
                              default: ''
                          amount:
                              type: string
                              default: ''
            responses:
                200:
                    description: event created
                400:
                    description: Unable to create event
                404:
                    description: Event not found
                500:
                    description: Server error

components:
  schema: 
    events:
      type: object
      properties:
        _id:
          type: string
        parent:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            thumbnail:
              type: string
        description:
          type: string
        thumbnail:
          type: string
        date:
          type: string
        rsvp: 
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                default: ''
              name:
                type: string
                default: ''
        isSelection:
          type: boolean
        payment:
          type: object
          properties:
            isPayment:
              type: string
            amount: 
              type: string
        approval: 
          type: array
          items: 
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              query:
                type: array
                item:
                  type: object
                  properties:
                    content:
                      type: string
                    response:
                      type: string
                    isResponded:
                      type: string
        isPending:
          type: string
        isInReview:
          type: string
        isApproved:
          type: string
        isPublished:
          type: string


